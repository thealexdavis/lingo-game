board1Standby = '<div id="line1" class="line bingo"> <div class="ball_holder" id="team1ball1"><section class="stage"><figure class="ball"><span class="number" id="team1number1"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball2"><section class="stage"><figure class="ball"><span class="number" id="team1number2"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball3"><section class="stage"><figure class="ball"><span class="number" id="team1number3"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball4"><section class="stage"><figure class="ball"><span class="number" id="team1number4"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball5"><section class="stage"><figure class="ball"><span class="number" id="team1number5"></span><span class="shadow"></span></figure></section></div> </div> <div id="line2" class="line bingo"> <div class="ball_holder" id="team1ball6"><section class="stage"><figure class="ball"><span class="number" id="team1number6"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball7"><section class="stage"><figure class="ball"><span class="number" id="team1number7"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball8"><section class="stage"><figure class="ball"><span class="number" id="team1number8"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball9"><section class="stage"><figure class="ball"><span class="number" id="team1number9"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball10"><section class="stage"><figure class="ball"><span class="number" id="team1number10"></span><span class="shadow"></span></figure></section></div> </div> <div id="line3" class="line bingo"> <div class="ball_holder" id="team1ball11"><section class="stage"><figure class="ball"><span class="number" id="team1number11"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball12"><section class="stage"><figure class="ball"><span class="number" id="team1number12"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball13"><section class="stage"><figure class="ball"><span class="number" id="team1number13"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball14"><section class="stage"><figure class="ball"><span class="number" id="team1number14"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball15"><section class="stage"><figure class="ball"><span class="number" id="team1number15"></span><span class="shadow"></span></figure></section></div> </div> <div id="line4" class="line bingo"> <div class="ball_holder" id="team1ball16"><section class="stage"><figure class="ball"><span class="number" id="team1number16"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball17"><section class="stage"><figure class="ball"><span class="number" id="team1number17"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball18"><section class="stage"><figure class="ball"><span class="number" id="team1number18"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball19"><section class="stage"><figure class="ball"><span class="number" id="team1number19"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball20"><section class="stage"><figure class="ball"><span class="number" id="team1number20"></span><span class="shadow"></span></figure></section></div> </div> <div id="line5" class="line bingo"> <div class="ball_holder" id="team1ball21"><section class="stage"><figure class="ball"><span class="number" id="team1number21"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball22"><section class="stage"><figure class="ball"><span class="number" id="team1number22"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball23"><section class="stage"><figure class="ball"><span class="number" id="team1number23"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball24"><section class="stage"><figure class="ball"><span class="number" id="team1number24"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team1ball25"><section class="stage"><figure class="ball"><span class="number" id="team1number25"></span><span class="shadow"></span></figure></section></div> </div>';
board2Standby = '<div id="line1" class="line bingo"> <div class="ball_holder" id="team2ball1"><section class="stage"><figure class="ball"><span class="number" id="team2number1"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball2"><section class="stage"><figure class="ball"><span class="number" id="team2number2"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball3"><section class="stage"><figure class="ball"><span class="number" id="team2number3"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball4"><section class="stage"><figure class="ball"><span class="number" id="team2number4"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball5"><section class="stage"><figure class="ball"><span class="number" id="team2number5"></span><span class="shadow"></span></figure></section></div> </div> <div id="line2" class="line bingo"> <div class="ball_holder" id="team2ball6"><section class="stage"><figure class="ball"><span class="number" id="team2number6"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball7"><section class="stage"><figure class="ball"><span class="number" id="team2number7"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball8"><section class="stage"><figure class="ball"><span class="number" id="team2number8"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball9"><section class="stage"><figure class="ball"><span class="number" id="team2number9"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball10"><section class="stage"><figure class="ball"><span class="number" id="team2number10"></span><span class="shadow"></span></figure></section></div> </div> <div id="line3" class="line bingo"> <div class="ball_holder" id="team2ball11"><section class="stage"><figure class="ball"><span class="number" id="team2number11"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball12"><section class="stage"><figure class="ball"><span class="number" id="team2number12"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball13"><section class="stage"><figure class="ball"><span class="number" id="team2number13"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball14"><section class="stage"><figure class="ball"><span class="number" id="team2number14"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball15"><section class="stage"><figure class="ball"><span class="number" id="team2number15"></span><span class="shadow"></span></figure></section></div> </div> <div id="line4" class="line bingo"> <div class="ball_holder" id="team2ball16"><section class="stage"><figure class="ball"><span class="number" id="team2number16"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball17"><section class="stage"><figure class="ball"><span class="number" id="team2number17"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball18"><section class="stage"><figure class="ball"><span class="number" id="team2number18"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball19"><section class="stage"><figure class="ball"><span class="number" id="team2number19"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball20"><section class="stage"><figure class="ball"><span class="number" id="team2number20"></span><span class="shadow"></span></figure></section></div> </div> <div id="line5" class="line bingo"> <div class="ball_holder" id="team2ball21"><section class="stage"><figure class="ball"><span class="number" id="team2number21"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball22"><section class="stage"><figure class="ball"><span class="number" id="team2number22"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball23"><section class="stage"><figure class="ball"><span class="number" id="team2number23"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball24"><section class="stage"><figure class="ball"><span class="number" id="team2number24"></span><span class="shadow"></span></figure></section></div> <div class="ball_holder" id="team2ball25"><section class="stage"><figure class="ball"><span class="number" id="team2number25"></span><span class="shadow"></span></figure></section></div> </div>';

//SFX
boardFillSfx = document.getElementById("boardFill");
ballMarkSfx = document.getElementById("ballMark");
stingSfx = document.getElementById("lingoRow");

socket.on('generateBoard',function(team,board,markoffs) {
	boardFillSfx.play();
	team1Marks = [];
	team2Marks = [];
	for(x=1;x<26;x++){
		elem = document.getElementById("team"+team+"ball"+x);
		elemNumber = document.getElementById("team"+team+"number"+x);
		elemNumber.innerHTML = board[x-1];
		elem.className = '';
		elem.classList.add("ball_holder");
		elem.classList.add("bounce");
	}
	if (team == 1){
		teamMarks = team1Marks;
	}
	if (team == 2){
		teamMarks = team2Marks;
	}
	setTimeout(function(){
		markOff = markoffs[0]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 3000);
	setTimeout(function(){ 
		markOff = markoffs[1]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 3250);
	setTimeout(function(){ 
		markOff = markoffs[2]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 3500);
	setTimeout(function(){ 
		markOff = markoffs[3]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 3750);
	setTimeout(function(){ 
		markOff = markoffs[4]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 4000);
	setTimeout(function(){ 
		markOff = markoffs[5]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 4250);
	setTimeout(function(){ 
		markOff = markoffs[6]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 4500);
	setTimeout(function(){ 
		markOff = markoffs[7]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 4750);
	setTimeout(function(){ 
		markOff = markoffs[8]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 5000);
	setTimeout(function(){ 
		markOff = markoffs[9]+1; 
		document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
		teamMarks.push(markOff);
		ballMarkSfx.pause(); 
		ballMarkSfx.play();
	}, 5250);
	if(markoffs.length > 10){
		setTimeout(function(){ 
			markOff = markoffs[10]+1; 
			document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
			teamMarks.push(markOff);
			ballMarkSfx.pause(); 
			ballMarkSfx.play();
		}, 5500);
		setTimeout(function(){ 
			markOff = markoffs[11]+1; 
			document.getElementById("team"+team+"ball"+markOff).classList.add("markoff");
			teamMarks.push(markOff);
			ballMarkSfx.pause();
			ballMarkSfx.play();
		}, 5750);
		setTimeout(function(){ 
			checkforLingo(teamMarks,team);
		}, 6500);
	}
});
socket.on('markoffSquare',function(team,markOff,typeMarkoff) {
	if (team == 1){
		teamMarks = team1Marks;
	}
	if (team == 2){
		teamMarks = team2Marks;
	}
	var elem = document.getElementById('team'+team+'ball'+markOff);
	elem.className = '';
	elem.classList.add("ball_holder");
	elem.classList.add("bounce");
	if(typeMarkoff==2){
		const index = teamMarks.indexOf(markOff);
		if (index > -1) {
		  teamMarks.splice(index, 1);
		}
	} else {
		elem.classList.add("markoff");
		teamMarks.push(markOff);
	}
	ballMarkSfx.pause();
	ballMarkSfx.play();
	checkforLingo(teamMarks,team);
});
function checkforLingo(markOffs,team){
	//CHECK HORIZONTAL FOR POSSIBLE
	checkHorizontal(markOffs,team);
	checkVertical(markOffs,team);
	checkDiagonal(markOffs,team);
}
function checkHorizontal(markOffs,team){
	hor1Good = [];
	hor1Bad = [];
	lingoLetter = ["L","I","N","G","O"];
	for(x=1;x<6;x++){
		if(markOffs.indexOf(x) !== -1){
			hor1Good.push(x);
		} else {
			hor1Bad.push(x);
		}
	}
	if(hor1Bad.length == 1){
		document.getElementById("team"+team+"ball"+hor1Bad[0]).classList.add("potential");
	}
	if(hor1Bad.length == 0){
		for(x=1;x<6;x++){
			document.getElementById("team"+team+"ball"+x).classList.add("lingo");
			document.getElementById("team"+team+"number"+x).innerHTML = lingoLetter[x-1];
		}
	}
	hor2Good = [];
	hor2Bad = [];
	for(x=6;x<11;x++){
		if(markOffs.indexOf(x) !== -1){
			hor2Good.push(x);
		} else {
			hor2Bad.push(x);
		}
	}
	if(hor2Bad.length == 1){
		document.getElementById("team"+team+"ball"+hor2Bad[0]).classList.add("potential");
	}
	if(hor2Bad.length == 0){
		for(x=6;x<11;x++){
			document.getElementById("team"+team+"ball"+x).classList.add("lingo");
			document.getElementById("team"+team+"number"+x).innerHTML = lingoLetter[x-6];
		}
	}
	hor3Good = [];
	hor3Bad = [];
	for(x=11;x<16;x++){
		if(markOffs.indexOf(x) !== -1){
			hor3Good.push(x);
		} else {
			hor3Bad.push(x);
		}
	}
	if(hor3Bad.length == 1){
		document.getElementById("team"+team+"ball"+hor3Bad[0]).classList.add("potential");
	}
	if(hor3Bad.length == 0){
		for(x=11;x<16;x++){
			document.getElementById("team"+team+"ball"+x).classList.add("lingo");
			document.getElementById("team"+team+"number"+x).innerHTML = lingoLetter[x-11];
		}
	}
	hor4Good = [];
	hor4Bad = [];
	for(x=16;x<21;x++){
		if(markOffs.indexOf(x) !== -1){
			hor4Good.push(x);
		} else {
			hor4Bad.push(x);
		}
	}
	if(hor4Bad.length == 1){
		document.getElementById("team"+team+"ball"+hor4Bad[0]).classList.add("potential");
	}
	if(hor4Bad.length == 0){
		for(x=16;x<21;x++){
			document.getElementById("team"+team+"ball"+x).classList.add("lingo");
			document.getElementById("team"+team+"number"+x).innerHTML = lingoLetter[x-16];
		}
	}
	hor5Good = [];
	hor5Bad = [];
	for(x=21;x<26;x++){
		if(markOffs.indexOf(x) !== -1){
			hor5Good.push(x);
		} else {
			hor5Bad.push(x);
		}
	}
	if(hor5Bad.length == 1){
		document.getElementById("team"+team+"ball"+hor5Bad[0]).classList.add("potential");
	}
	if(hor5Bad.length == 0){
		for(x=21;x<26;x++){
			document.getElementById("team"+team+"ball"+x).classList.add("lingo");
			document.getElementById("team"+team+"number"+x).innerHTML = lingoLetter[x-21];
		}
	}
}
function checkVertical(markOffs,team){
	vert1Pos = [1,6,11,16,21];
	vert1Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(vert1Pos[x]) === -1){
			vert1Bad.push(vert1Pos[x]);
		}
	}
	if(vert1Bad.length == 1){
		document.getElementById("team"+team+"ball"+vert1Bad[0]).classList.add("potential");
	}
	if(vert1Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+vert1Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+vert1Pos[x]).innerHTML = lingoLetter[x];
		}
	}
	vert2Pos = [2,7,12,17,22];
	vert2Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(vert2Pos[x]) === -1){
			vert2Bad.push(vert2Pos[x]);
		}
	}
	if(vert2Bad.length == 1){
		document.getElementById("team"+team+"ball"+vert2Bad[0]).classList.add("potential");
	}
	if(vert2Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+vert2Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+vert2Pos[x]).innerHTML = lingoLetter[x];
		}
	}
	vert3Pos = [3,8,13,18,23];
	vert3Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(vert3Pos[x]) === -1){
			vert3Bad.push(vert3Pos[x]);
		}
	}
	if(vert3Bad.length == 1){
		document.getElementById("team"+team+"ball"+vert3Bad[0]).classList.add("potential");
	}
	if(vert3Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+vert3Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+vert3Pos[x]).innerHTML = lingoLetter[x];
		}
	}
	vert4Pos = [4,9,14,19,24];
	vert4Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(vert4Pos[x]) === -1){
			vert4Bad.push(vert4Pos[x]);
		}
	}
	if(vert4Bad.length == 1){
		document.getElementById("team"+team+"ball"+vert4Bad[0]).classList.add("potential");
	}
	if(vert4Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+vert4Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+vert4Pos[x]).innerHTML = lingoLetter[x];
		}
	}
	vert5Pos = [5,10,15,20,25];
	vert5Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(vert5Pos[x]) === -1){
			vert5Bad.push(vert5Pos[x]);
		}
	}
	if(vert5Bad.length == 1){
		document.getElementById("team"+team+"ball"+vert5Bad[0]).classList.add("potential");
	}
	if(vert5Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+vert5Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+vert5Pos[x]).innerHTML = lingoLetter[x];
		}
	}
}
function checkDiagonal(markOffs,team){
	diag1Pos = [1,7,13,19,25];
	diag1Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(diag1Pos[x]) === -1){
			diag1Bad.push(diag1Pos[x]);
		}
	}
	if(diag1Bad.length == 1){
		document.getElementById("team"+team+"ball"+diag1Bad[0]).classList.add("potential");
	}
	if(diag1Bad.length == 0){
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+diag1Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+diag1Pos[x]).innerHTML = lingoLetter[x];
		}
	}
	diag2Pos = [5,9,13,17,21];
	diag2Bad = [];
	for(x=0;x<5;x++){
		if(markOffs.indexOf(diag2Pos[x]) === -1){
			diag2Bad.push(diag2Pos[x]);
		}
	}
	if(diag2Bad.length == 1){
		document.getElementById("team"+team+"ball"+diag2Bad[0]).classList.add("potential");
	}
	if(diag2Bad.length == 0){
		var lingoLetterReverse=lingoLetter.reverse();  
		for(x=0;x<5;x++){
			document.getElementById("team"+team+"ball"+diag2Pos[x]).classList.add("lingo");
			document.getElementById("team"+team+"number"+diag2Pos[x]).innerHTML = lingoLetterReverse[x];
		}
	}
}
socket.on('resetBoard',function(typeBoard, teamNumber) {
	if(typeBoard == 2){
		if(teamNumber == 1){
			theResetBoard = board1Standby;
		}
		if(teamNumber == 2){
			theResetBoard = board2Standby;
		}
		document.getElementByID("bingo_board_"+teamNumber).innerHTML = theResetBoard;
	}
});
socket.on('clearTheBoard',function(team) {
		if(team == 1){
			theResetBoard = board1Standby;
		}
		if(team == 2){
			theResetBoard = board2Standby;
		}
		document.getElementById("bingo_board_"+team).innerHTML = theResetBoard;
});